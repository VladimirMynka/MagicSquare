<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MagicSquare</title>
    <link rel="stylesheet" href="../bootstrap-5/css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/main2.css">
</head>

<body>
<div id="shower" class="card d-none position-absolute">
    <div class="card-header">
        <div class="container">
            <div class="row">
                <div class="col-10 p-0">Всем привет</div>
                <div id="close-shower" role="button" class="col-2 font-monospace text-end p-0 user-select-none">X</div>
            </div>
        </div>
    </div>
    <div class="card-body">
        <div class="container px-0 font-monospace">
            <div class="row px-0 d-none mt-1">
                <div class="col-5 fw-bold px-0">Уравнение:</div>
                <div class="col-7 px-0"><pre>x² + y² = w² + z²</pre></div>
            </div>
        </div>
    </div>
</div>
<div id="content" class="content user-select-none">
    <div class="shadup d-flex flex-column flex-shrink-1 p-3 text-white bg-dark d-none">
        <div role="button" class="toggler text-end fs-5 border-bottom">ᐅ</div>
    </div>
    <div class="shadup leftPanel flex-shrink-0 p-3 text-white bg-dark">
        <div class="container border-bottom">
            <div class="row p-0 m-0">
                <div class="col fs-5">Магические квадраты - круто</div>
                <div role="button" class="toggler col-1 text-end fs-5">ᐊ</div>
            </div>
        </div>

<!--        Main menu-->
        <div class="container mt-3"><div class="row">
            <div role="button" class = "col toggler-main">Главное меню</div>
            <div role="button" class = "col-1 text-end toggler-main toggler-main-visible">ᐃ</div>
        </div></div>
        <div class="container border border-warning rounded-3 p-3 mt-1 main-cont">
            <div class="step-sm row">
                <div class = "col btn btn-outline-light">
                    E = <input class="btn btn-outline-light" type = "number" id = "inputE" value = "5" maxlength = "10" min = "-999999" max = "9999999">
                </div>
                <div class = "col btn btn-outline-light">
                    x = <input class="btn btn-outline-light" type = "number" id = "inputX" value = "3" maxlength = "10" min = "-999999" max = "9999999">
                </div>
                <div class = "col btn btn-outline-light">
                    y = <input class="btn btn-outline-light" type = "number" id = "inputY" value = "1" maxlength = "10" min = "-999999" max = "9999999">
                </div>
            </div>
            <div class="step-sm row">
                <button id = "applyButton" class="btn btn-light col">Задать</button>
                <button id = "factorizeButton" class="btn btn-light col">Факторизовать</button>
                <button id = "minimizeButton" class="btn btn-light col">Минимизировать</button>
            </div>
            <div class="step-sm row">
                <button id = "leftRotateButton" class="btn btn-light col">Повернуть влево</button>
                <button id = "mirrorButton" class="btn btn-light col">Отразить</button>
                <button id = "rightRotateButton" class="btn btn-light col">Повернуть вправо</button>
            </div>
            <div class="step-sm row">
                <button id = "interestingButton" class="btn btn-light col">Интересная трансформация</button>
            </div>
            <div class="step-sm row">
                <button id = "multiplyButton" class="btn btn-light col">Умножить на</button>
                <input class="btn btn-outline-light col" type = "number" id = "inputMultiply" value = "-1" maxlength = "3" min = "-9999" max = "999">
            </div>
        </div>

<!--        Params-->
        <div class="container mt-3"><div class="row">
            <div role="button" class = "col toggler-param">Параметры</div>
            <div role="button" class = "col-1 text-end toggler-param toggler-param-visible">ᐃ</div>
        </div></div>
        <div class="container border border-warning rounded-3 p-3 mt-1 param-cont">
            <div class = "step-sm row">
                <div class = "col btn btn-outline-light">
                    &#945<sub>1</sub> = <input class="btn btn-outline-light" type = "number" id = "inputA1" value = "1" min = "1" max = "15">
                    &#946<sub>1</sub> = <input class="btn btn-outline-light" type = "number" id = "inputB1" value = "1" min = "1" max = "15">
                </div>
                <div class = "col btn btn-outline-light">
                    &#945<sub>2</sub> = <input class="btn btn-outline-light" type = "number" id = "inputA2" value = "1" min = "1" max = "15">
                    &#946<sub>2</sub> = <input class="btn btn-outline-light" type = "number" id = "inputB2" value = "1" min = "1" max = "15">
                </div>
            </div>
            <div class = "step-sm row">
                <button id = "swapButton1" class="btn btn-light col">Обратить</button>
                <button id = "swapButton2" class="btn btn-light col">Обратить</button>
            </div>
            <div class = "step-sm row">
                <button id = "bigSwapButton" class="btn btn-light col">Обратить</button>
            </div>
            <div class = "step-sm row">
                <button id = "bigTradeButton" class="btn btn-light col">Обменять</button>
            </div>
            <div class = "step-sm row">
                <div class = "col btn btn-outline-light">
                    maxRandom = <input class="btn btn-outline-light" type = "number" id = "inputMaxParam" value = "10" maxlength = "3" min = "1" max = "15">
                </div>
                <button id = "randomButtonParam" class="btn btn-light col">Зарандомить</button>
            </div>
        </div>

<!--        4/9-->
        <div class="container mt-3"><div class="row">
            <div role="button" class = "col toggler-four">Генерация 4/9-квадратов</div>
            <div role="button" class = "col-1 text-end toggler-four toggler-four-visible">ᐃ</div>
        </div></div>
        <div class="container border border-warning rounded-3 p-3 mt-1 four-cont">
            <div class = "step-lg row">
                <div id="red" class="col align-middle">Красные (dir-квадраты)</div>
                <button id = "applyButtonACEG" class="btn btn-light col-1 generator-button px-0 fw-bold my-red">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XOX
OXO
XOO</pre></button>
                <button id = "applyButtonBDEF" class="btn btn-light col-1 generator-button px-0 fw-bold my-red">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
OXO
XXX
OOO</pre></button>
                <button id = "applyButtonABEJ" class="btn btn-light col-1 generator-button px-0 fw-bold my-red">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XXO
OXO
OOX</pre></button>
                <button id = "applyButtonBDEJ" class="btn btn-light col-1 generator-button px-0 fw-bold my-red">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
OXO
XXO
OOX</pre></button>
                <button id = "applyButtonABEH" class="btn btn-light col-1 generator-button px-0 fw-bold my-red">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XXO
OXO
OXO</pre></button>
                <button id = "applyButtonBDFG" class="btn btn-light col-1 generator-button px-0 fw-bold my-red">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
OXO
XOX
XOO</pre></button>
                <button id = "applyButtonABDJ" class="btn btn-light col-1 generator-button px-0 fw-bold my-red">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XXO
XOO
OOX</pre></button>
            </div>
            <div class="row">
                <div id="yellow" class="col align-middle">Жёлтые (квадраты Брахмагупты)</div>
                <button id = "applyButtonACEH" class="btn btn-light col-1 generator-button px-0 fw-bold my-yellow">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XOX
OXO
OXO</pre></button>
                <button id = "applyButtonACDE" class="btn btn-light col-1 generator-button px-0 fw-bold my-yellow">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XOX
XXO
OOO</pre></button>
                <button id = "applyButtonBDFH" class="btn btn-light col-1 generator-button px-0 fw-bold my-yellow">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
OXO
XOX
OXO</pre></button>
                <button id = "applyButtonACGJ" class="btn btn-light col-1 generator-button px-0 fw-bold my-yellow">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XOX
OOO
XOX</pre></button>
                <button id = "applyButtonABFJ" class="btn btn-light col-1 generator-button px-0 fw-bold my-yellow">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XXO
OOX
OOX</pre></button>
                <button id = "applyButtonABHJ" class="btn btn-light col-1 generator-button px-0 fw-bold my-yellow">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XXO
OOO
OXX</pre></button>
            </div>
            <div class="row">
                <div id="blue" class="col align-middle">Голубые (квадраты Двахмагупты)</div>
                <button id = "applyButtonBCDE" class="btn btn-light col-1 generator-button px-0 fw-bold my-blue">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
OXX
XXO
OOO</pre></button>
                <button id = "applyButtonACFG" class="btn btn-light col-1 generator-button px-0 fw-bold my-blue">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XOX
OOX
XOO</pre></button>
                <button id = "applyButtonABDF" class="btn btn-light col-1 generator-button px-0 fw-bold my-blue">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XXO
XOX
OOO</pre></button>
                <button id = "applyButtonACDF" class="btn btn-light col-1 generator-button px-0 fw-bold my-blue">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XOX
XOX
OOO</pre></button>
            </div>
            <div class="row">
                <div id="other" class="col align-middle">Другие</div>
                <button id = "applyButtonABCG" class="btn btn-light col-1 generator-button px-0 fw-bold my-brown">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XXX
OOO
XOO</pre></button>
                <button id = "applyButtonABCH" class="btn btn-light col-1 generator-button px-0 fw-bold my-brown">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XXX
OOO
OXO</pre></button>
                <button id = "applyButtonABCE" class="btn btn-light col-1 generator-button px-0 fw-bold my-green">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XXX
OXO
OOO</pre></button>
                <button id = "applyButtonABDE" class="btn btn-light col-1 generator-button px-0 fw-bold my-black">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XXO
XXO
OOO</pre></button>
                <button id = "applyButtonABCD" class="btn btn-light col-1 generator-button px-0 fw-bold my-gray">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XXX
XOO
OOO</pre></button>
            </div>
        </div>

<!--        5/9-->
        <div class="container mt-3"><div class="row">
            <div role="button" class = "col toggler-five">Генерация 5/9-квадратов</div>
            <div role="button" class = "col-1 text-end toggler-five toggler-five-visible">ᐃ</div>
        </div></div>
        <div class="container border border-warning rounded-3 p-3 mt-1 five-cont">
            <div class = "step-lg row">
                <div id="redred" class="col align-middle">Красно-красные</div>
                <button id = "applyButtonACEGJ" class="btn btn-light col-1 generator-button px-0 fw-bold my-red-red">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XOX
OXO
XOX</pre></button>
                <button id = "applyButtonBDEFH" class="btn btn-light col-1 generator-button px-0 fw-bold my-red-red">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
OXO
XXX
OXO</pre></button>
                <button id = "applyButtonABEHJ" class="btn btn-light col-1 generator-button px-0 fw-bold my-red-red">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XXO
OXO
OXX</pre></button>
                <button id = "applyButtonBDEFJ" class="btn btn-light col-1 generator-button px-0 fw-bold my-red-red">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
OXO
XXX
OOX</pre></button>
                <button id = "applyButtonBDFGJ" class="btn btn-light col-1 generator-button px-0 fw-bold my-red-red">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
OXO
XOX
XOX</pre></button>
                <button id = "applyButtonABDEJ" class="btn btn-light col-1 generator-button px-0 fw-bold my-red-red">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XXO
XXO
OOX</pre></button>
            </div>
            <div class="row">
                <div id="redyellow" class="col align-middle">Красно-жёлтые</div>
                <button id = "applyButtonBDFHJ" class="btn btn-light col-1 generator-button px-0 fw-bold my-red-yellow">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
OXO
XOX
OXX</pre></button>
                <button id = "applyButtonABDFJ" class="btn btn-light col-1 generator-button px-0 fw-bold my-red-yellow">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XXO
XOX
OOX</pre></button>
                <button id = "applyButtonACEHJ" class="btn btn-light col-1 generator-button px-0 fw-bold my-red-yellow">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XOX
OXO
OXX</pre></button>
                <button id = "applyButtonACDEG" class="btn btn-light col-1 generator-button px-0 fw-bold my-red-yellow">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XOX
XXO
XOO</pre></button>
                <button id = "applyButtonABCEH" class="btn btn-light col-1 generator-button px-0 fw-bold my-red-yellow">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XXX
OXO
OXO</pre></button>
                <button id = "applyButtonACDEF" class="btn btn-light col-1 generator-button px-0 fw-bold my-red-yellow">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XOX
XXX
OOO</pre></button>
                <button id = "applyButtonABEFJ" class="btn btn-light col-1 generator-button px-0 fw-bold my-red-yellow">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XXO
OXX
OOX</pre></button>
                <button id = "applyButtonABFGJ" class="btn btn-light col-1 generator-button px-0 fw-bold my-red-yellow">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XXO
OOX
XOX</pre></button>
            </div>
            <div id="redblue" class="row">
                <div class="col align-middle">Красно-голубые</div>
                <button id = "applyButtonABCDH" class="btn btn-light col-1 generator-button px-0 fw-bold my-red-blue">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XXX
XOO
OXO</pre></button>
                <button id = "applyButtonABCDJ" class="btn btn-light col-1 generator-button px-0 fw-bold my-red-blue">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XXX
XOO
OOX</pre></button>
                <button id = "applyButtonABDEF" class="btn btn-light col-1 generator-button px-0 fw-bold my-red-blue">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XXO
XXX
OOO</pre></button>
            </div>
            <div id="yellowblue" class="row">
                <div class="col align-middle">Жёлто-голубые</div>
                <button id = "applyButtonABCGJ" class="btn btn-light col-1 generator-button px-0 fw-bold my-yellow-blue">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XXX
OOO
XOX</pre></button>
                <button id = "applyButtonABCGH" class="btn btn-light col-1 generator-button px-0 fw-bold my-yellow-blue">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XXX
OOO
XXO</pre></button>
                <button id = "applyButtonABCDE" class="btn btn-light col-1 generator-button px-0 fw-bold my-yellow-blue">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XXX
XXO
OOO</pre></button>
            </div>
            <div class="row">
                <div class="col align-middle">Другие</div>
                <button id = "applyButtonABCDF" class="btn btn-light col-1 generator-button px-0 fw-bold my-blue-blue">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XXX
XOX
OOO</pre></button>
                <button id = "applyButtonABCDG" class="btn btn-light col-1 generator-button px-0 fw-bold my-yellow-brown">
                    <pre class="font-monospace m-0 overflow-hidden" style="line-height: 1.01em">
XXX
XOO
XOO</pre></button>
            </div>



        </div>

    </div>


    <div class="d-flex flex-column flex-shrink-1 position-relative">
        <div class = "square" id = "square">
            <div class = "squareLine">
                <div id = "E+x" class = "squareElement"></div>
                <div id = "E-x+y" class = "squareElement"></div>
                <div id = "E-y" class = "squareElement"></div>
            </div>
            <div class = "squareLine">
                <div id = "E-x-y" class = "squareElement"></div>
                <div id = "E" class = "squareElement"></div>
                <div id = "E+x+y" class = "squareElement"></div>
            </div>
            <div class = "squareLine">
                <div id = "E+y" class = "squareElement"></div>
                <div id = "E+x-y" class = "squareElement"></div>
                <div id = "E-x" class = "squareElement"></div>
            </div>
        </div>
    </div>
</div>

<script src="../js/math.js"></script>
<script src="../js/common.js"></script>
<script src="../js/polynomials.js"></script>
<script src="../js/polynomials2.js"></script>
<script src="../js/rsa.js"></script>
<script src="../js/generator.js"></script>
<script src="../jQuery/jQuery.js"></script>
<script src="../js/main2.js"></script>
<script src="../html2canvas/html2canvas.js"></script>


<script>
    $('.toggler').on('click', () => {
        $('.shadup').toggleClass('d-none');
        $('#square').toggleClass('square');
    });
    $('.toggler-main').on('click', () => {
        let $mainCot = $('.main-cont');
        $mainCot.toggleClass('d-none');
        console.log($mainCot[0].classList);
        $('.toggler-main-visible').text(($mainCot[0].classList.contains('d-none') ? 'ᐁ' : 'ᐃ'));
    });
    $('.toggler-four').on('click', () => {
        let $mainCot = $('.four-cont');
        $mainCot.toggleClass('d-none');
        console.log($mainCot[0].classList);
        $('.toggler-four-visible').text(($mainCot[0].classList.contains('d-none') ? 'ᐁ' : 'ᐃ'));
    });
    $('.toggler-five').on('click', () => {
        let $mainCot = $('.five-cont');
        $mainCot.toggleClass('d-none');
        console.log($mainCot[0].classList);
        $('.toggler-five-visible').text(($mainCot[0].classList.contains('d-none') ? 'ᐁ' : 'ᐃ'));
    });
    $('.toggler-param').on('click', () => {
        let $mainCot = $('.param-cont');
        $mainCot.toggleClass('d-none');
        console.log($mainCot[0].classList);
        $('.toggler-param-visible').text(($mainCot[0].classList.contains('d-none') ? 'ᐁ' : 'ᐃ'));
    });



    let counter = (E, x, y) =>
        placeFormulas.reduce((res, elem) => res + isSquare(elem(E, x, y)), 0)

    let former = (E, x, y) =>
        placeFormulas.reduce((res, elem) => res + (isSquare(elem(E, x, y)) ? 'x' : 'o'), '')

    let setVals = (a, b, c, d) => {
        inputA1.value = a;
        inputB1.value = b;
        inputA2.value = c;
        inputB2.value = d;
        lastClickGroup1.click();
        minimizeButton.click();
    }

    let screenshot = () => {
		
		return html2canvas(document.getElementById("content")).then(function(canvas) {

			let myScreen = canvas.toDataURL('image/png');
            let image = document.createElement('img');
            image.src = myScreen;
            image.height = 500;
            image.width = 500;

			document.body.appendChild(image);
		});	
	
	}

    let getButton = (id, header, form, system, compressed, exy) => {
        return {
            id: id,
            header: header,
            titles: ['Form:', 'System:', 'Compressed:', 'Solution:'],
            values: [form, system, compressed, exy]
        }
    }

    let getColor = (id, header, problem, solution, style='') => {
        return {
            id: id,
            header: header,
            titles: ['Problem:', 'Solution:'],
            values: [problem, solution],
            style: style
        }
    }

    let data = [
        getColor(
            'red',
            'Красные, или дирные 4/9',
            'A² + B² = 2C²',
            'A = 2mn + m² - n²\nB = 2mn - m² + n²\nC = m² + n²',
            'background: lightcoral;'
        ),
        getColor(
            'yellow',
            'Жёлтые 4/9',
            'A² + B² = C² + D²',
            'A, C = ac ± bd\nB, D = ad ∓ bc',
            'background: lightgoldenrodyellow;'
        ),
        getColor(
            'blue',
            'Голубые 4/9',
            'A² + 2B² = C² + 2D²',
            'A, C = ac ± 2bd\nB, D = ad ∓ bc',
            'background: lightskyblue;'
        ),
        {
            id: 'other',
            header: 'Другие 4/9',
            titles: ['Коричневые', 'Зелёный', 'Тёмно-серый', 'Светло-серый'],
            values: [
`Problem:   2A² + 2B² = 3C² + D²
-------------------------------
Solution:   A = -2c²d² + 2a²d² - 4acd² - 3b²c² + 6bcd²
            B = 2c²d² - 2a²d² - 4acd² - 3b²c² + 6abcd
            C = 2c²d² + 2a²d² + 3b²c² - 4bcd² - 4abcd
            D = 2c²d² + 2a²d² - 3b²c²`,
`Problem:   A² + B² + C² = 3D²
-------------------------------
Solution:   a² + b² - c² - d² + 2ac - ad + bc + bd,
            a² - b² + c² - d² + 2ad - ab + bc + cd,
            a² - b² - c² + d² + 2ab - ac + bd + cd,
            a² + b² + c² + d²`,
`Problem:   2A² + B² + C² = 4D²
-------------------------------
Solution:   -2c²d² + a²d² - 2acd² + b²c² - 2bcd²,
            2c²d² - a²d² - 4acd² + b²c² - 2abcd,
            2c²d² + a²d² - b²c² - 4bcd² - 2abcd,
            2c²d² + a²d² + b²c²
`,
`Problem:   2A² + 3B² = C² + 4D²
-------------------------------
Solution:   -2c²d² + 3a²d² - 6acd² - 4b²c² + 8bcd²,
            2c²d² - 3a²d² - 4acd² - 4b²c² + 8abcd,
            2c²d² + 3a²d² + 4b²c² - 4bcd² - 6abcd,
            2c²d² + 3a²d² - 4b²c²
`
            ],
        },
        getColor(
            'redred',
            'Красно-красные 5/9',
            '1) A² + J² = 2E²\nB² + H² = 2E²\n' +
            'или\n2) A² + J² = 2E²\nF² + H² = 2A²\n' +
            'или\n3) F² + H² = 2A²\nF² + B² = 2G²',
            '1) A = (2ab + a² - b²)(c² + d²)\n' +
            'J = (2ab - a² + b²)(c² + d²)\n' +
            'B = (a² + b²)(2cd + c² - d²)\n' +
            'H = (a² + b²)(2cd - c² + d²)\n' +
            'E = (a² + b²)(c² + d²)\n' +
            'или\n' +
            '2) E = (a² + b²)(c² + d²)\n' +
            'J = (2ab - a² + b²)(c² + d²)\n' +
            'A = (2ab + a² - b²)(c² + d²)\n' +
            'H = (2ab + a² - b²)(2cd - c² + d²)\n' +
            'F = (2ab + a² - b²)(2cd + c² - d²)\n' +
            'или\n' +
            '3) A = (a² + b²)(2cd - c² + d²)\n' +
            'H = (2ab + a² - b²)(2cd - c² + d²)\n' +
            'F = (2ab - a² + b²)(2cd - c² + d²)\n' +
            'B = (2ab - a² + b²)(2cd + c² - d²)\n' +
            'G = (2ab - a² + b²)(c² + d²)\n',
            'background: lightcoral;width: 41rem!important;'
        ),
        getColor(
            'redyellow',
            'Красно-жёлтые 5/9',
            '1) \nB² + H² = D² + F²\nF² + H² = 2A²\n' +
            'или\n2) \nA² + J² = D² + F²\nB² + D² = 2J²\n' +
            'или\n3) \nA² + C² = E² + H²\nB² + H² = 2E²',
            '1) ***НЕ ДОКАЗАНА ПОЛНОЦЕННОСТЬ РЕШЕНИЯ***\n' +
            'B, D = ac ± bd\n' +
            'F, H = ad ± bc\n' +
            'A = 2ad\n' +
            'a = 2mnk / d\n' +
            'b = (m² - n²)k / c\n' +
            'k = cd / (gcd(2mn, d) * gcd(m² - n², c))\n' +
            'm, n, c, d – параметры\n' +
            'или\n' +
            '2) ***НЕ ДОКАЗАНА ПОЛНОЦЕННОСТЬ РЕШЕНИЯ***\n' +
            'J, D = ac ± bd\n' +
            'F, A = ad ± bc\n' +
            'B = ac + 2bd\n' +
            'a = m(m + n)k / c\n' +
            'b = n(n - m)k / d\n' +
            'k = cd / (gcd(m(m + n), c) * gcd(n(n - m), d))\n' +
            'm, n, c, d – параметры\n' +
            'или\n' +
            '3) ***НЕ РЕШЕНО***',
            'background: linear-gradient(to right, lightcoral 30%, lightgoldenrodyellow 50%); width: 41rem!important; '
        ),
        getColor(
            'redblue',
            'Красно-голубые 5/9',
            '1) \nB² - D² = 2H² - 2A²\nD² + H² = 2C²\n' +
            '1) ***НЕ ДОКАЗАНА ПОЛНОЦЕННОСТЬ РЕШЕНИЯ***\n' +
            'B, D = ac ± bd\n' +
            'F, H = ad ± bc\n' +
            'A = 2ad\n' +
            'a = 2mnk / d\n' +
            'b = (m² - n²)k / c\n' +
            'k = cd / (gcd(2mn, d) * gcd(m² - n², c))\n' +
            'm, n, c, d – параметры\n' +
            'или\n' +
            '2) ***НЕ ДОКАЗАНА ПОЛНОЦЕННОСТЬ РЕШЕНИЯ***\n' +
            'J, D = ac ± bd\n' +
            'F, A = ad ± bc\n' +
            'B = ac + 2bd\n' +
            'a = m(m + n)k / c\n' +
            'b = n(n - m)k / d\n' +
            'k = cd / (gcd(m(m + n), c) * gcd(n(n - m), d))\n' +
            'm, n, c, d – параметры\n' +
            'или\n' +
            '3) ***НЕ РЕШЕНО***',
            'background: linear-gradient(to right, lightcoral 30%, lightgoldenrodyellow 50%); width: 41rem!important; '
        ),
    ]

    let $shower = $('#shower');
    for (let one of data) {
        let oneElem = document.getElementById(one.id);
        oneElem.oncontextmenu = (e) => {
            e.preventDefault();
            let $headerKeeper = $shower.find('.card-header').find('.col-10');
            $headerKeeper.text(one.header);
            let $container = $shower.find('.card-body').find('.container');
            let $row = $container.find('.row.d-none');
            $container.empty();
            $container.append($row);
            let len = one.titles.length;
            for (let i = 0; i < len; i++) {
                let $clone = $row.clone();
                $clone.removeClass('d-none');
                $clone.find('.col-5').text(one.titles[i]);
                $clone.find('.col-7').find('pre').text(one.values[i]);
                $container.append($clone);
            }
            $shower.removeClass("d-none");
            $shower.attr('style', one.style + `width: 20rem; left: ${bounding.x + 16}px; top: ${bounding.y - 16}px;`);
        }
        let bounding = oneElem.getBoundingClientRect()
    }
    document.getElementById('close-shower').onclick = () => {
        $shower.addClass('d-none')
    }
    document.body.onclick = () => {
        $shower.addClass('d-none')
    }

</script>
</body>

</html>